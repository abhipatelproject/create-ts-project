// This file contains shared TypeScript compilerOptions for packages that run in node.
// The tsconfig.json file in each sub-folder of "packages" extends this file.

// Don't try to include paths in this file, as some will be
// relative to this file and some relative to the package-level tsconfig.json.
// It's more confusing than it's worth.

{
  "compilerOptions": {
    "module": "commonjs",
    "moduleResolution": "node",

    // node >=12.x supports es2019.
    // To work with node 10.x or 11.x, change these values to "es2017".
    // See https://node.green for node versions' support of ecmascript
    // versions and features.
    "target": "es2019",
    "lib": ["es2019"],

    // Allow packages to be referenced by other packages.
    "composite": true,

    // Including "types" prevents auto-load of @types/* from all ancestor
    // node_modules folders. tsc will always load types for modules you import.
    // "node" provides types for node built-in modules and globals (e.g., path, console).
    // "jest" provides types for jest globals (e.g., jest, describe, it).
    // To remove/extend these, add compilerOptions.types in the package-level tsconfig.
    // Or you can choose not to extend this config from a specific package (e.g.,
    // a front-end app created with create-react-app). In that case, you'll have to
    // redeclare all the other values in this file, as you want them in that package.
    // Any types listed here must have the corresponding "@types/..." package
    // listed in the root package.json devDependencies.
    "types": ["node", "jest"],

    // These are helpful for developer experience.
    "declarationMap": true,
    "sourceMap": true,
    "allowSyntheticDefaultImports": true,

    // We want to be as strict as we can...
    "forceConsistentCasingInFileNames": true,
    "noImplicitReturns": true,
    "strict": true

    // ...but you may want to disable some things if they cause pain.
    // These are common sources of pain:
    // "suppressImplicitAnyIndexErrors": true,
    // "strictPropertyInitialization": false
  }
}
